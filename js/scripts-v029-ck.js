/*!
 *  TITLE:    JavaScripts for devicelab.fi
 *  AUTHOR:   @viljamis
 *  VERSION:  0.29
 */// Variables
function currentYPosition(){return self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0}function elmYPosition(e){var t=document.getElementById(e),n=t.offsetTop,r=t;while(r.offsetParent&&r.offsetParent!==document.body){r=r.offsetParent;n+=r.offsetTop}return n}function smoothScroll(e){var t=currentYPosition(),n=elmYPosition(e),r=n>t?n-t:t-n,i=Math.round(r/100),s=Math.round(r/35),o=n>t?t+s:t-s,u=0,a;if(r<100){scrollTo(0,n);return}i>=20&&(i=20);if(n>t){for(a=t;a<n;a+=s){setTimeout("window.scrollTo(0, "+o+")",u*i);o+=s;o>n&&(o=n);u++}return}for(a=t;a>n;a-=s){setTimeout("window.scrollTo(0, "+o+")",u*i);o-=s;o<n&&(o=n);u++}}function initEvent(){window.innerWidth>670?linkEl.onclick=function(){smoothScroll("location");return!1}:linkEl.onclick=function(){return}}function dean_addEvent(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else{n.$$guid||(n.$$guid=dean_addEvent.guid++);e.events||(e.events={});var r=e.events[t];if(!r){r=e.events[t]={};e["on"+t]&&(r[0]=e["on"+t])}r[n.$$guid]=n;e["on"+t]=handleEvent}}function removeEvent(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.events&&e.events[t]&&delete e.events[t][n.$$guid]}function handleEvent(e){var t=!0;e=e||fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event);var n=this.events[e.type];for(var r in n){this.$$handleEvent=n[r];this.$$handleEvent(e)===!1&&(t=!1)}return t}function fixEvent(e){e.preventDefault=fixEvent.preventDefault;e.stopPropagation=fixEvent.stopPropagation;return e}var docElement=document.documentElement,browserUA=navigator.userAgent.toLowerCase();docElement.className=docElement.className.replace(/(^|\s)no-js preload(\s|$)/,"$1$2");if(browserUA.search("windows phone os 7")>-1||browserUA.search("windows phone os 8")>-1||browserUA.search("msie 9.0")>-1||browserUA.search("msie 10.0")>-1)docElement.className=docElement.className+" tablefix";(function(e){window.VS=window.VS||{};VS.viewportmeta=e.querySelector&&e.querySelector('meta[name="viewport"]');VS.ua=navigator.userAgent;VS.scaleFix=function(){if(VS.viewportmeta&&/iPhone|iPad|iPod/.test(VS.ua)&&!/Opera Mini/.test(VS.ua)){VS.viewportmeta.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0";e.addEventListener("gesturestart",VS.gestureStart,!1)}};VS.gestureStart=function(){VS.viewportmeta.content="width=device-width, minimum-scale=0.25, maximum-scale=1.9"}})(document);var resizeTimer=null,linkEl=document.getElementById("to_location");initEvent();window.onresize=function(){resizeTimer&&clearTimeout(resizeTimer);resizeTimer=setTimeout(function(){resizeTimer=null;initEvent()},200)};var stIsIE=!1;sorttable={init:function(){if(arguments.callee.done)return;arguments.callee.done=!0;_timer&&clearInterval(_timer);if(!document.createElement||!document.getElementsByTagName)return;sorttable.DATE_RE=/^(\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)$/;forEach(document.getElementsByTagName("table"),function(e){e.className.search(/\bsortable\b/)!=-1&&sorttable.makeSortable(e)})},makeSortable:function(e){if(e.getElementsByTagName("thead").length==0){the=document.createElement("thead");the.appendChild(e.rows[0]);e.insertBefore(the,e.firstChild)}e.tHead==null&&(e.tHead=e.getElementsByTagName("thead")[0]);if(e.tHead.rows.length!=1)return;sortbottomrows=[];for(var t=0;t<e.rows.length;t++)e.rows[t].className.search(/\bsortbottom\b/)!=-1&&(sortbottomrows[sortbottomrows.length]=e.rows[t]);if(sortbottomrows){if(e.tFoot==null){tfo=document.createElement("tfoot");e.appendChild(tfo)}for(var t=0;t<sortbottomrows.length;t++)tfo.appendChild(sortbottomrows[t]);delete sortbottomrows}headrow=e.tHead.rows[0].cells;for(var t=0;t<headrow.length;t++)if(!headrow[t].className.match(/\bsorttable_nosort\b/)){mtch=headrow[t].className.match(/\bsorttable_([a-z0-9]+)\b/);mtch&&(override=mtch[1]);mtch&&typeof sorttable["sort_"+override]=="function"?headrow[t].sorttable_sortfunction=sorttable["sort_"+override]:headrow[t].sorttable_sortfunction=sorttable.guessType(e,t);headrow[t].sorttable_columnindex=t;headrow[t].sorttable_tbody=e.tBodies[0];dean_addEvent(headrow[t],"click",function(e){if(this.className.search(/\bsorttable_sorted\b/)!=-1){sorttable.reverse(this.sorttable_tbody);this.className=this.className.replace("sorttable_sorted","sorttable_sorted_reverse");this.removeChild(document.getElementById("sorttable_sortfwdind"));sortrevind=document.createElement("span");sortrevind.id="sorttable_sortrevind";sortrevind.innerHTML=stIsIE?'&nbsp<font face="webdings">5</font>':"&nbsp;&#x25B4;";this.appendChild(sortrevind);return}if(this.className.search(/\bsorttable_sorted_reverse\b/)!=-1){sorttable.reverse(this.sorttable_tbody);this.className=this.className.replace("sorttable_sorted_reverse","sorttable_sorted");this.removeChild(document.getElementById("sorttable_sortrevind"));sortfwdind=document.createElement("span");sortfwdind.id="sorttable_sortfwdind";sortfwdind.innerHTML=stIsIE?'&nbsp<font face="webdings">6</font>':"&nbsp;&#x25BE;";this.appendChild(sortfwdind);return}theadrow=this.parentNode;forEach(theadrow.childNodes,function(e){if(e.nodeType==1){e.className=e.className.replace("sorttable_sorted_reverse","");e.className=e.className.replace("sorttable_sorted","")}});sortfwdind=document.getElementById("sorttable_sortfwdind");sortfwdind&&sortfwdind.parentNode.removeChild(sortfwdind);sortrevind=document.getElementById("sorttable_sortrevind");sortrevind&&sortrevind.parentNode.removeChild(sortrevind);this.className+=" sorttable_sorted";sortfwdind=document.createElement("span");sortfwdind.id="sorttable_sortfwdind";sortfwdind.innerHTML=stIsIE?'&nbsp<font face="webdings">6</font>':"&nbsp;&#x25BE;";this.appendChild(sortfwdind);row_array=[];col=this.sorttable_columnindex;rows=this.sorttable_tbody.rows;for(var t=0;t<rows.length;t++)row_array[row_array.length]=[sorttable.getInnerText(rows[t].cells[col]),rows[t]];row_array.sort(this.sorttable_sortfunction);tb=this.sorttable_tbody;for(var t=0;t<row_array.length;t++)tb.appendChild(row_array[t][1]);delete row_array})}},guessType:function(e,t){sortfn=sorttable.sort_alpha;for(var n=0;n<e.tBodies[0].rows.length;n++){text=sorttable.getInnerText(e.tBodies[0].rows[n].cells[t]);if(text!=""){if(text.match(/^-?[�$�]?[\d,.]+%?$/))return sorttable.sort_numeric;possdate=text.match(sorttable.DATE_RE);if(possdate){first=parseInt(possdate[1]);second=parseInt(possdate[2]);if(first>12)return sorttable.sort_ddmm;if(second>12)return sorttable.sort_mmdd;sortfn=sorttable.sort_ddmm}}}return sortfn},getInnerText:function(e){if(!e)return"";hasInputs=typeof e.getElementsByTagName=="function"&&e.getElementsByTagName("input").length;if(e.getAttribute("data-customkey")!=null)return e.getAttribute("data-customkey");if(typeof e.textContent!="undefined"&&!hasInputs)return e.textContent.replace(/^\s+|\s+$/g,"");if(typeof e.innerText!="undefined"&&!hasInputs)return e.innerText.replace(/^\s+|\s+$/g,"");if(typeof e.text!="undefined"&&!hasInputs)return e.text.replace(/^\s+|\s+$/g,"");switch(e.nodeType){case 3:if(e.nodeName.toLowerCase()=="input")return e.value.replace(/^\s+|\s+$/g,"");case 4:return e.nodeValue.replace(/^\s+|\s+$/g,"");case 1:case 11:var t="";for(var n=0;n<e.childNodes.length;n++)t+=sorttable.getInnerText(e.childNodes[n]);return t.replace(/^\s+|\s+$/g,"");default:return""}},reverse:function(e){newrows=[];for(var t=0;t<e.rows.length;t++)newrows[newrows.length]=e.rows[t];for(var t=newrows.length-1;t>=0;t--)e.appendChild(newrows[t]);delete newrows},sort_numeric:function(e,t){aa=parseFloat(e[0].replace(/[^0-9.-]/g,""));isNaN(aa)&&(aa=0);bb=parseFloat(t[0].replace(/[^0-9.-]/g,""));isNaN(bb)&&(bb=0);return aa-bb},sort_alpha:function(e,t){return e[0]==t[0]?0:e[0]<t[0]?-1:1},sort_ddmm:function(e,t){mtch=e[0].match(sorttable.DATE_RE);y=mtch[3];m=mtch[2];d=mtch[1];m.length==1&&(m="0"+m);d.length==1&&(d="0"+d);dt1=y+m+d;mtch=t[0].match(sorttable.DATE_RE);y=mtch[3];m=mtch[2];d=mtch[1];m.length==1&&(m="0"+m);d.length==1&&(d="0"+d);dt2=y+m+d;return dt1==dt2?0:dt1<dt2?-1:1},sort_mmdd:function(e,t){mtch=e[0].match(sorttable.DATE_RE);y=mtch[3];d=mtch[2];m=mtch[1];m.length==1&&(m="0"+m);d.length==1&&(d="0"+d);dt1=y+m+d;mtch=t[0].match(sorttable.DATE_RE);y=mtch[3];d=mtch[2];m=mtch[1];m.length==1&&(m="0"+m);d.length==1&&(d="0"+d);dt2=y+m+d;return dt1==dt2?0:dt1<dt2?-1:1},shaker_sort:function(e,t){var n=0,r=e.length-1,i=!0;while(i){i=!1;for(var s=n;s<r;++s)if(t(e[s],e[s+1])>0){var o=e[s];e[s]=e[s+1];e[s+1]=o;i=!0}r--;if(!i)break;for(var s=r;s>n;--s)if(t(e[s],e[s-1])<0){var o=e[s];e[s]=e[s-1];e[s-1]=o;i=!0}n++}}};document.addEventListener&&document.addEventListener("DOMContentLoaded",sorttable.init,!1);if(/WebKit/i.test(navigator.userAgent))var _timer=setInterval(function(){/loaded|complete/.test(document.readyState)&&sorttable.init()},10);window.onload=sorttable.init;dean_addEvent.guid=1;fixEvent.preventDefault=function(){this.returnValue=!1};fixEvent.stopPropagation=function(){this.cancelBubble=!0};Array.forEach||(Array.forEach=function(e,t,n){for(var r=0;r<e.length;r++)t.call(n,e[r],r,e)});Function.prototype.forEach=function(e,t,n){for(var r in e)typeof this.prototype[r]=="undefined"&&t.call(n,e[r],r,e)};String.forEach=function(e,t,n){Array.forEach(e.split(""),function(r,i){t.call(n,r,i,e)})};var forEach=function(e,t,n){if(e){var r=Object;if(e instanceof Function)r=Function;else{if(e.forEach instanceof Function){e.forEach(t,n);return}typeof e=="string"?r=String:typeof e.length=="number"&&(r=Array)}r.forEach(e,t,n)}};